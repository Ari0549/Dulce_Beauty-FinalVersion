{"ast":null,"code":"var _jsxFileName = \"/Users/balerinabrc/Desktop/Dulce_Beauty-FinalVersion/src/components/Services.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { dataServ } from \"./serv_data\";\nimport TypeServ from \"./TypeService\";\nimport Facets_container from './Facets_container';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Services() {\n  _s();\n  const build_categorical_facet_values = name => {\n    const values = [...new Set(dataServ.map(item => item[name]))];\n    return values.map(value => ({\n      'name': value,\n      'checked': false\n    }));\n  };\n  const [state, setState] = useState({\n    all_services: dataServ,\n    shown_services: dataServ,\n    facets: {\n      category: build_categorical_facet_values('category'),\n      price: build_categorical_facet_values('price'),\n      time: build_categorical_facet_values('time')\n    }\n  });\n  useEffect(() => {\n    const facets = {};\n    Object.entries(state.facets).forEach(_ref => {\n      let [name, values] = _ref;\n      facets[name] = [];\n      values.forEach(value => {\n        if (value.checked) {\n          facets[name].push(value.name);\n        }\n      });\n    });\n    if (Object.values(facets).every(arr => arr.length === 0)) {\n      setState({\n        ...state,\n        shown_services: state.all_services\n      });\n      return;\n    }\n    const number_of_active_facets = Object.values(facets).filter(x => x.length).length;\n    const to_show = state.all_services.map(serv => Object.entries(facets).map(_ref2 => {\n      let [name, values] = _ref2;\n      return values.includes(serv[name]);\n    }).filter(Boolean).length == number_of_active_facets ? serv : undefined).filter(Boolean);\n    setState({\n      ...state,\n      shown_services: to_show\n    });\n  }, [state.facets]);\n  function clearAllFacetValues(facet) {\n    const new_facet = state.facets[facet].map(facet_value => ({\n      ...facet_value,\n      checked: false\n    }));\n    setState({\n      ...state,\n      facets: {\n        ...state.facets,\n        [facet]: new_facet\n      }\n    });\n  }\n  function updateCategory(facet, value, newChecked) {\n    const new_facet = state.facets[facet].map(_ref3 => {\n      let {\n        name,\n        checked\n      } = _ref3;\n      return {\n        name: name,\n        checked: name == value ? newChecked : checked\n      };\n    });\n    setState({\n      ...state,\n      facets: {\n        ...state.facets,\n        [facet]: new_facet\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"titlePages\",\n      style: {\n        marginBottom: '150px'\n      },\n      children: \"Services\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"border-end\",\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            display: 'inline-block'\n          },\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Facets_container, {\n          facets: state.facets,\n          updateCategory: updateCategory,\n          clearAllFacetValues: clearAllFacetValues\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 9,\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          className: \"d-flex flex-wrap\",\n          children: state.shown_services.map(x => /*#__PURE__*/_jsxDEV(TypeServ, {\n            ...x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 56\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(Services, \"iDtCNMjAz3gTrj/AbTeV8wusJDA=\");\n_c = Services;\nexport default Services;\nvar _c;\n$RefreshReg$(_c, \"Services\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","dataServ","TypeServ","Facets_container","jsxDEV","_jsxDEV","Services","_s","build_categorical_facet_values","name","values","Set","map","item","value","state","setState","all_services","shown_services","facets","category","price","time","Object","entries","forEach","_ref","checked","push","every","arr","length","number_of_active_facets","filter","x","to_show","serv","_ref2","includes","Boolean","undefined","clearAllFacetValues","facet","new_facet","facet_value","updateCategory","newChecked","_ref3","children","className","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","md","display","xs","_c","$RefreshReg$"],"sources":["/Users/balerinabrc/Desktop/Dulce_Beauty-FinalVersion/src/components/Services.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col'; \nimport { dataServ } from \"./serv_data\";\nimport TypeServ from \"./TypeService\";\nimport Facets_container from './Facets_container';\n\nfunction Services(){\n\n    const build_categorical_facet_values = (name) => {\n        const values = [... new Set(dataServ.map(item => item[name]))]\n        return values.map(value => ({ 'name': value, 'checked': false }))\n    }\n\n    const [state, setState] = useState({\n\n        all_services: dataServ,\n        shown_services: dataServ,\n        facets: {\n\n            category: build_categorical_facet_values('category'),\n            price: build_categorical_facet_values('price'),\n            time: build_categorical_facet_values('time')\n        }\n    })\n\n    useEffect(() =>{\n        const facets = {}\n\n        Object.entries(state.facets).forEach(([name, values]) => {\n            facets[name] = []\n            values.forEach(value => {\n                if (value.checked) {\n                    facets[name].push(value.name)\n                }\n            })\n        })\n\n        if (Object.values(facets).every(arr => arr.length === 0)){\n            setState({ ...state, shown_services: state.all_services})\n            return\n        }\n\n        const number_of_active_facets = Object.values(facets).filter(x => x.length).length\n\n        const to_show = state.all_services.map(serv =>\n            Object.entries(facets).map(([name, values]) =>\n            values.includes(serv[name])).filter(Boolean).length == number_of_active_facets ? serv : undefined\n        ).filter(Boolean)\n\n        setState({ ...state, shown_services: to_show})\n    }, [state.facets])\n\n    function clearAllFacetValues(facet) {\n        const new_facet = state.facets[facet].map(facet_value => ({\n            ...facet_value, checked: false\n        }))\n        setState({ ...state, facets: { ...state.facets, [facet]: new_facet }})\n    }\n\n    function updateCategory(facet, value, newChecked) {\n        const new_facet = state.facets[facet].map(({ name, checked }) => ({ name: name, checked: name == value ? newChecked : checked}))\n        setState({ ...state, facets: { ...state.facets, [facet]: new_facet } })\n    }\n\n    return (\n        <div>\n            <h1 className='titlePages' style={{marginBottom: '150px'}}>Services</h1>\n            <Row>\n                <Col className='border-end' md={3}>\n                    <h3 style={{display: 'inline-block'}}>Filter</h3>\n                    <Facets_container facets={state.facets} updateCategory={updateCategory} clearAllFacetValues={clearAllFacetValues} />\n                </Col>\n                <Col xs={9}>\n                    <Container className='d-flex flex-wrap'>\n                        {state.shown_services.map(x => <TypeServ {...x} />)}\n                    </Container>\n                </Col>\n            </Row>\n        </div>\n    );\n\n\n}\n\nexport default Services;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}